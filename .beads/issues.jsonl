{"id":"bd-1bx","title":"Implement children.rs: child ID functions","description":"Create the child ID module.\n\nImplement:\n- child_id(parent_id, child_number) -> String — e.g., child_id(\"bd-a7x\", 1) returns \"bd-a7x.1\". Supports nesting: bd-a7x.1.3.7\n- is_child_id(id) -> bool — true if ID contains dot-separated child path\n- id_depth(id) -> usize — number of child path segments (0 for root IDs)\n\nAcceptance criteria:\n- child_id appends .N correctly\n- Nested children work: child_id(\"bd-a7x.1\", 3) -> \"bd-a7x.1.3\"\n- is_child_id returns false for root IDs, true for child IDs\n- id_depth returns correct depth\n\nTesting: cargo test, unit tests for nesting, edge cases","status":"open","priority":2,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:50:04.030030737Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:33.699564187Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1bx","depends_on_id":"bd-2hf","type":"blocks","created_at":"2026-02-02T21:50:33.699535053Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-1qx","title":"Implement generate.rs: IdGenerator with adaptive length and collision avoidance","description":"Create the ID generator module.\n\nImplement:\n- IdGenerator struct holding IdConfig\n- IdGenerator::new(config) constructor\n- prefix() -> &str accessor\n- optimal_length(item_count) -> usize — birthday problem approximation: find shortest length where P(collision) = 1 - e^(-n^2/2d) < max_collision_prob, starting from min_hash_length\n- candidate(seed, hash_length) -> String — hash seed bytes at specific length, return prefix-hash\n- generate(seed_fn, item_count, exists) -> String — full collision avoidance:\n  1. Nonce escalation: try nonces 0-9 at optimal length\n  2. Length extension: increment length, repeat up to max_hash_length\n  3. Long fallback: 12-char hashes, nonces 0-1000\n  4. Desperate fallback: append nonce number to hash\n\nAcceptance criteria:\n- optimal_length returns correct lengths per the table in spec (3 chars for <100 items, 4 for ~200, etc.)\n- candidate produces deterministic prefix-hash strings\n- generate avoids collisions using multi-tier strategy\n- generate always returns a valid ID even under extreme collision pressure\n\nTesting: cargo test, unit tests for optimal_length boundaries, collision avoidance under synthetic exists functions","status":"open","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:49:51.565780807Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:31.847293046Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1qx","depends_on_id":"bd-1t0","type":"blocks","created_at":"2026-02-02T21:50:31.847263490Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-1qx","depends_on_id":"bd-29u","type":"blocks","created_at":"2026-02-02T21:50:31.820410942Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-1qx","depends_on_id":"bd-2q5","type":"blocks","created_at":"2026-02-02T21:50:31.793314237Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-1t0","title":"Implement error.rs: TerseIdError and Result type","description":"Create the error module with all error variants.\n\nImplement:\n- TerseIdError enum with thiserror derives: InvalidId, PrefixMismatch, AmbiguousId, NotFound\n- Result<T> type alias as std::result::Result<T, TerseIdError>\n- All variants must derive Debug, Clone, PartialEq, Eq\n\nAcceptance criteria:\n- All four error variants match spec exactly (field names, error messages)\n- Result type alias works\n- Module compiles\n\nTesting: cargo check, unit tests for Display output of each variant","status":"open","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:49:30.583178952Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:28.393779105Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-1t0","depends_on_id":"bd-25p","type":"blocks","created_at":"2026-02-02T21:50:28.393743569Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-25p","title":"Project scaffolding: Cargo.toml and lib.rs","description":"Set up the project as a library crate with proper dependencies.\n\nTasks:\n- Convert src/main.rs to src/lib.rs\n- Add dependencies: sha2 = \"0.10\", thiserror = \"2\"\n- Add dev-dependencies: proptest = \"1\"\n- Ensure cargo check passes with empty lib.rs\n\nAcceptance criteria:\n- Cargo.toml has correct [dependencies] and [dev-dependencies]\n- src/lib.rs exists (src/main.rs removed)\n- cargo check succeeds\n\nTesting: cargo check","status":"in_progress","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:49:23.578702248Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:53:05.930667807Z","source_repo":".","compaction_level":0,"original_size":0,"comments":[{"id":3,"issue_id":"bd-25p","author":"terseid-dev","text":"Started in workspace iron-tiger (/home/bob/src/terseid/.workspaces/iron-tiger)","created_at":"2026-02-02T21:53:05Z"}]}
{"id":"bd-29u","title":"Implement hash.rs: SHA256 to base36 hashing","description":"Create the core hashing module.\n\nImplement:\n- pub(crate) fn compute_hash(input: impl AsRef<[u8]>) -> u64 — SHA256 input, take first 8 bytes as big-endian u64\n- pub(crate) fn base36_encode(value: u64) -> String — encode u64 as base36 lowercase string\n- pub fn hash(input: impl AsRef<[u8]>, length: usize) -> String — public standalone hash function, base36 hash truncated/zero-padded to length chars\n\nBase36 alphabet: 0123456789abcdefghijklmnopqrstuvwxyz\n\nAcceptance criteria:\n- compute_hash is deterministic for same input\n- base36_encode produces only valid base36 characters\n- hash() returns exactly 'length' characters\n- hash() is deterministic\n\nTesting: cargo test, proptest for base36 alphabet validity, known-value tests","status":"open","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:49:39.114753628Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:29.939673343Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-29u","depends_on_id":"bd-25p","type":"blocks","created_at":"2026-02-02T21:50:29.939642545Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-2hf","title":"Implement parse.rs: ParsedId and validation functions","description":"Create the parsing module.\n\nImplement:\n- ParsedId struct: prefix (String), hash (String), child_path (Vec<u32>)\n- ParsedId methods: is_root(), depth(), parent() -> Option<String>, to_id_string(), is_child_of(potential_parent)\n- Display for ParsedId\n- parse_id(id) -> Result<ParsedId> — last dash before valid hash separates prefix from hash; hash at 3 chars accepts any base36, at 4+ chars requires at least one digit; child path dots must be valid u32\n- is_valid_id_format(id) -> bool\n- normalize_id(id) -> String — lowercase\n- validate_prefix(id, expected, allowed) -> Result<()>\n\nParsing rules:\n- Last dash separates prefix from hash (supports hyphenated prefixes like my-proj-a7x3q9)\n- 3-char hash: any base36 valid\n- 4+ char hash: must contain at least one digit (avoids ambiguity with English words)\n- Child path segments after dots must be valid u32\n\nAcceptance criteria:\n- parse_id correctly handles hyphenated prefixes\n- 4+ char hashes without digits are rejected\n- child paths are parsed correctly\n- round-trip: parse_id(id).to_id_string() == normalize_id(id)\n\nTesting: cargo test, extensive unit tests for edge cases (hyphenated prefixes, child paths, invalid inputs)","status":"open","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:49:58.900829432Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:33.084529150Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2hf","depends_on_id":"bd-1t0","type":"blocks","created_at":"2026-02-02T21:50:33.084491229Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-2q5","title":"Implement config.rs: IdConfig with builder methods","description":"Create the configuration module.\n\nImplement:\n- IdConfig struct with fields: prefix (String), min_hash_length (usize, default 3), max_hash_length (usize, default 8), max_collision_prob (f64, default 0.25)\n- IdConfig::new(prefix) constructor requiring prefix\n- Builder methods: min_hash_length(), max_hash_length(), max_collision_prob() that return Self\n\nAcceptance criteria:\n- IdConfig::new(\"bd\") works with correct defaults\n- Builder chain works: IdConfig::new(\"tk\").min_hash_length(4).max_collision_prob(0.10)\n- prefix is required, no default\n\nTesting: cargo check, unit tests for defaults and builder","status":"open","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:49:34.336400690Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:29.307032857Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-2q5","depends_on_id":"bd-25p","type":"blocks","created_at":"2026-02-02T21:50:29.306997611Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-37c","title":"Implement lib.rs: module declarations and re-exports","description":"Set up the crate's public API surface in lib.rs.\n\nImplement:\n- Module declarations for: error, config, hash, generate, parse, children, resolve\n- Re-export all public types and functions per spec:\n  - From error: TerseIdError, Result\n  - From config: IdConfig\n  - From generate: IdGenerator\n  - From parse: ParsedId, parse_id, is_valid_id_format, normalize_id, validate_prefix\n  - From children: child_id, is_child_id, id_depth\n  - From resolve: IdResolver, ResolverConfig, MatchType, ResolvedId, find_matching_ids\n- Top-level hash() function (delegates to hash::hash)\n\nAcceptance criteria:\n- All public types are accessible from crate root: terseid::IdConfig, terseid::IdGenerator, etc.\n- cargo doc builds without warnings\n- Integration test can use all types via terseid::*\n\nTesting: cargo check, cargo doc","status":"open","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:50:20.269411244Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:36.568270211Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-37c","depends_on_id":"bd-1bx","type":"blocks","created_at":"2026-02-02T21:50:36.542017138Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-37c","depends_on_id":"bd-1qx","type":"blocks","created_at":"2026-02-02T21:50:36.488031326Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-37c","depends_on_id":"bd-1t0","type":"blocks","created_at":"2026-02-02T21:50:36.407306570Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-37c","depends_on_id":"bd-29u","type":"blocks","created_at":"2026-02-02T21:50:36.461430481Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-37c","depends_on_id":"bd-2hf","type":"blocks","created_at":"2026-02-02T21:50:36.515355959Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-37c","depends_on_id":"bd-2q5","type":"blocks","created_at":"2026-02-02T21:50:36.434943880Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-37c","depends_on_id":"bd-38g","type":"blocks","created_at":"2026-02-02T21:50:36.568243340Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-38g","title":"Implement resolve.rs: IdResolver for fuzzy ID resolution","description":"Create the resolution module.\n\nImplement:\n- ResolverConfig struct: default_prefix (String), allowed_prefixes (Vec<String>), allow_substring_match (bool, default true)\n- MatchType enum: Exact, PrefixNormalized, Substring\n- ResolvedId struct: id (String), match_type (MatchType), original_input (String)\n- IdResolver::new(config) constructor\n- IdResolver::resolve(input, exists_fn, substring_match_fn) -> Result<ResolvedId>\n  Resolution order:\n  1. Exact match — input matches existing ID verbatim\n  2. Prefix normalization — if no dash, prepend default_prefix- and retry\n  3. Substring match — search hash portions, exactly one match succeeds, multiple matches -> AmbiguousId error\n  4. Not found\n  Input is lowercased and trimmed before resolution.\n- find_matching_ids(all_ids, hash_substring) -> Vec<String> — helper to find matching IDs by hash substring\n\nAcceptance criteria:\n- Exact match works\n- Prefix normalization prepends default prefix correctly\n- Substring match finds unique matches\n- AmbiguousId error when multiple substring matches\n- NotFound error when no match at any stage\n- Input is lowercased and trimmed\n\nTesting: cargo test, unit tests for each resolution stage, ambiguity handling","status":"open","priority":2,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T21:50:11.845565372Z","created_by":"terseid-dev","updated_at":"2026-02-02T21:50:34.812958445Z","source_repo":".","compaction_level":0,"original_size":0,"dependencies":[{"issue_id":"bd-38g","depends_on_id":"bd-1t0","type":"blocks","created_at":"2026-02-02T21:50:34.758479529Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-38g","depends_on_id":"bd-2hf","type":"blocks","created_at":"2026-02-02T21:50:34.812929300Z","created_by":"terseid-dev","metadata":"{}","thread_id":""},{"issue_id":"bd-38g","depends_on_id":"bd-2q5","type":"blocks","created_at":"2026-02-02T21:50:34.785291450Z","created_by":"terseid-dev","metadata":"{}","thread_id":""}]}
{"id":"bd-3am","title":"Review spec.md and create beads for all tasks in this project.","description":"Review spec.md and create individual beads for each implementation task in the terseid project. The spec covers: config, hashing, generation, parsing, children, resolution, errors, and crate structure.\n\nAcceptance criteria:\n- All distinct implementation tasks from spec.md have corresponding beads\n- Each bead has a clear title, description with acceptance criteria, and appropriate priority\n- Dependencies between beads are captured\n- Beads cover: error types, config, hashing internals, ID generation, parsing, child IDs, resolution, lib.rs re-exports, and Cargo.toml setup\n\nTesting strategy:\n- Verify all beads exist with br ready / br list\n- Cross-reference beads against spec.md sections to ensure nothing is missed","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-30T16:58:55.312477120Z","created_by":"bob","updated_at":"2026-02-02T21:51:08.183477062Z","closed_at":"2026-02-02T21:51:08.183448849Z","close_reason":"Completed: created 9 implementation beads covering all spec.md tasks with proper dependency chains","source_repo":".","compaction_level":0,"original_size":0,"comments":[{"id":1,"issue_id":"bd-3am","author":"terseid-dev","text":"Started in workspace shadow-oak (/home/bob/src/terseid/.workspaces/shadow-oak)","created_at":"2026-02-02T21:48:47Z"},{"id":2,"issue_id":"bd-3am","author":"terseid-dev","text":"Progress: Created 9 implementation beads from spec.md:\n- bd-25p: Project scaffolding (Cargo.toml, lib.rs) [P1, ready]\n- bd-1t0: error.rs (TerseIdError, Result) [P1, blocked by bd-25p]\n- bd-2q5: config.rs (IdConfig) [P1, blocked by bd-25p]\n- bd-29u: hash.rs (SHA256/base36) [P1, blocked by bd-25p]\n- bd-1qx: generate.rs (IdGenerator) [P1, blocked by config+hash+error]\n- bd-2hf: parse.rs (ParsedId) [P1, blocked by error]\n- bd-1bx: children.rs (child_id) [P2, blocked by parse]\n- bd-38g: resolve.rs (IdResolver) [P2, blocked by error+config+parse]\n- bd-37c: lib.rs (re-exports) [P1, blocked by all modules]\n\nAll dependencies configured. Work can begin with bd-25p (scaffolding).","created_at":"2026-02-02T21:50:52Z"}]}
{"id":"bd-6sg","title":"Review spec.md and create implementation beads","description":"Read spec.md, understand requirements, and break down into actionable beads with acceptance criteria.","status":"closed","priority":1,"issue_type":"task","owner":"terseid-dev","created_at":"2026-02-02T18:16:08.963700911Z","created_by":"terseid-dev","updated_at":"2026-02-02T20:13:54.408077672Z","closed_at":"2026-02-02T20:13:54.408045893Z","close_reason":"duplicate of bd-3am","source_repo":".","compaction_level":0,"original_size":0}
{"id":"bd-6z5","title":"register project on botbus","description":"botbus history projects\n\n- follow the convention of messages there and `botbus send projects ...` to register the terseid project","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-30T17:00:30.734390065Z","created_by":"bob","updated_at":"2026-02-02T20:13:36.573143719Z","closed_at":"2026-02-02T20:13:36.573117820Z","close_reason":"done automatically","source_repo":".","compaction_level":0,"original_size":0}
